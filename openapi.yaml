swagger: "2.0"
info:
  title: GRUPO 1 - DOCUMENTACIÓN DE APIS
  description: |-
    Presentamos el manual de uso de nuestras apis que comprenden las entidades: Arboles y Arboles Foto.
    ### Grupo Conformado por:
    
    * Quiroz Garcia Cristian
    * Chung Mesones Carlos
    * Delgado Cabrejos Hugo
    * Perez Zelada Favio
    
    

  version: 1.0.11

servers:
  - url: http://cristianquirozusat.pythonanywhere.com
tags:
  - name: Arbol
  - name: Arbol Foto
paths:
  /api_obtenerarboles:
    get:
      tags:
        - Arbol
      summary: API OBTENER ARBOLES
      description: Se listaran todos los arboles registrados de forma descendiente por id.
      operationId: listarArbol
      responses:
        '1':
          description: 
          schema:
            $ref: '#/components/schemas/Arbol'
        '-1':
          description: El proceso de Listar Arboles no culminó satisfactoriamente
  /api_obtenerarboles_desc:
    get:
      tags:
        - Arbol
      summary: API OBTENER ARBOLES DESC
      description: Se listaran todos los arboles registrados de forma descendiente por id.
      operationId: listarArboldesc
      responses:
        '1':
          description:
          schema:
            $ref: '#/components/schemas/Arbol_desc'
        '-1':
          description: El proceso de Listar Arboles con descripción no culminó satisfactoriamente.
            
  /api_obtenerarbol_nom/{nom}:
    get:
      tags:
        - Arbol
      summary: API OBTENER ARBOLES NOM
      description: Se listara el árbol registrado si el nombre coincide con alguno, si se envia el parámetro con espacio se listaran todos los arboles.
      operationId: listarArbolnom
      produces:
        - application/json
      parameters:
        - name: "nom"
          in: "path"
          description: Nombre del árbol.
          required: true
      responses:
        '1':
          description:
          schema:
                $ref: '#/components/schemas/Arbol_desc'
        '-1':
          description: El proceso de Obtener Árbol por nombre no culminó satisfactoriamente.
  /api_obtenerarbol/{id}:
    get:
      tags:
        - Arbol
      summary: API OBTENER ARBOL POR ID
      description: Se listara el árbol registrado si el nombre proporcionado coincide con alguno, si se envia el parámetro con espacio se listaran todos los arboles.
      operationId: listarArbolid
      parameters:
      - name: "id"
        in: "path"
        description: "Id de Árbol a buscar"
        required: true
      responses:
        '1':
          description:
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Arbol'
        '-1':
          description: El proceso de Obtener Árbol por id no culminó satisfactoriamente
  /api_obtenerarbol_desc/{id}:
    get:
      tags:
        - Arbol
      summary: API OBTENER ARBOL POR ID DESC
      description: Muestra un registro de la tabla tree según su id llamando la descripción de campos referenciados mediante las llaves foráneas.
      operationId: listarArbolidDesc
      parameters:
      - name: "id"
        in: "path"
        description: "Id de Árbol a buscar"
        required: true
      responses:
        '1':
          description:
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Arbol_desc'
        '-1':
          description: El proceso de Obtener Árbol por id con descripción no culminó satisfactoriamente
  /api_guardararbol:
    post:
      tags:
        - Arbol
      summary: API GUARDAR ARBOL
      description: Realiza un insert en la tabla trees.
      operationId: guardarArbol
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          description: El api necesita los siguientes valores.
          required: true
          schema:
            type: array
            items:
              $ref: '#/definitions/User'
      
      responses:
        '1':
          description: successful operation
        '-1':
          description: Invalid status value

  /api_actualizararbol:
    post:
      tags:
        - Arbol
      summary: API MODIFICAR ARBOL
      description: Realiza un update en la tabla trees, haciendo coincidir el id.
      operationId: actualizarArbol
      parameters:
        - in: body
          name: body
          description: El api necesita los siguientes valores.
          required: true
          schema:
            type: array
            items:
              $ref: '#/definitions/User'
      
      responses:
        '1':
          description: successful operation
        '-1':
          description: Invalid status value

  /api_eliminararbol:
    post:
      tags:
        - Arbol
      summary: API ELIMINAR ARBOL
      description: Realiza un delete en la tabla trees, haciendo coincidir el id.
      operationId: eliminarArbol
      parameters:
      - name: "name"
        in: "path"
        description: "Id de Árbol a buscar"
        required: true
      responses:
        '1':
          description: successful operation
        '-1':
          description: Invalid status value
            
  /api_obtenerarbolfotos:
    get:
      tags:
        - Arbol Foto
      summary: API OBTENER ARBOLES FOTOS
      description: Lista la tabla tree photos con sus determinados campos.
      operationId: listarArbolFoto
      responses:
        '1':
          description: successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Arbol'
        '-1':
          description: Invalid status value

  /api_obtenerarbolfotos_desc:
    get:
      tags:
        - Arbol Foto
      summary: API OBTENER ARBOLES FOTOS DESC
      description: Lista la tabla tree photos llamando la descripción de campos referenciados mediante las llaves foráneas.
      operationId: listarArbolFotoDesc
      responses:
        '1':
          description: successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Arbol'
        '-1':
          description: Invalid status value

  /api_obtenerarbolfoto/{id}:
    get:
      tags:
        - Arbol Foto
      summary: API OBTENER ARBOL FOTO POR ID
      description: Muestra un registro de la tabla tree photos según su id.
      operationId: listarArbolFotoId
      responses:
        '1':
          description: successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Arbol'
        '-1':
          description: Invalid status value

  /api_obtenerarbolfoto_desc/{id}:
    get:
      tags:
        - Arbol Foto
      summary: API OBTENER ARBOL FOTO POR ID DESC
      description: Muestra un registro de la tabla tree photos según su id llamando la descripción de campos referenciados mediante las llaves foráneas.
      operationId: listarArbolFotoIdDesc
      responses:
        '1':
          description: successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Arbol'
        '-1':
          description: Invalid status value

  /api_guardararbolfoto:
    post:
      tags:
        - Arbol Foto
      summary: API GUARDAR ARBOL FOTO
      description: Realiza una inserción en la tabla tree photos, asignándole una imagen codificada algorítmicamente a un árbol (tree).
      operationId: guardarArbolFoto
      parameters:
      - name: "name"
        in: "path"
        description: "Id de Árbol a buscar"
        required: true
      responses:
        '1':
          description: successful operation
        '-1':
          description: Invalid status value

  /api_actualizararbolfoto:
    post:
      tags:
        - Arbol Foto
      summary: API ACTUALIZAR ARBOL FOTO
      description: Realiza una inserción en la tabla tree photos, asignándole una imagen codificada algorítmicamente a un árbol (tree).
      operationId: actualizarArbolFoto
      parameters:
      - name: "name"
        in: "path"
        description: "Id de Árbol a buscar"
        required: true
      responses:
        '1':
          description: successful operation
        '-1':
          description: Invalid status value

            
  /api_eliminararbolfoto:
    post:
      tags:
        - Arbol Foto
      summary: API ELIMINAR ARBOL FOTO
      description: Realiza un delete en la tabla tree photos, haciendo coincidir el id.
      operationId: eliminarArbolFoto
      parameters:
      - name: "name"
        in: "path"
        description: "Id de Árbol a buscar"
        required: true
      responses:
        '1':
          description: successful operation
        '-1':
          description: Invalid status value

components:
  schemas:
    Arbol:
      type: object
      properties:
        birth_date:
          example: '2022-06-01 00:00:00'
        created_at:
          example: '2022-06-01 00:00:00'
        description:
          example: 'null'
        id:
          example: 9
        latitude:
          example: -6.803033899479622
        longitude:
          example: -79.84077392268448
        name:
          example: 'Árbol 09'
        planting_date:
          example: '2022-07-04 00:00:00'
        specie_id:
          example: 9  
        updated_at:
          example: '2022-07-05 08:35:37' 
        user_id:
          example: 1
        zone_id:
          example: 3   
    Arbol_guardar:
      type: object
      properties:
        name:
          example: 'Árbol 09'
        birth_date:
          example: '2022-06-01 00:00:00'
        planting_date:
          example: '2022-07-04 00:00:00'
        description:
          example: 'null'
        latitude:
          example: -6.803033899479622
        longitude:
          example: -79.84077392268448
        specie_id:
          example: 9 
        zone_id:
          example: 3 
        user_id:
          example: 1
  
    Arbol_desc:
      type: object
      properties:
        birth_date:
          example: '2022-06-01 00:00:00'
        created_at:
          example: '2022-06-01 00:00:00'
        description:
          example: 'null'
        especie:
          example: 'Pistacia lentiscus'
        familia_id:
          example: 9
        familia_nombre:
          example: 'Cupresáceas'
        id:
          example: 9
        latitude:
          example: -6.803033899479622
        longitude:
          example: -79.84077392268448
        name:
          example: 'Árbol 09'
        planting_date:
          example: '2022-07-04 00:00:00'
        specie_id:
          example: 9  
        updated_at:
          example: '2022-07-05 08:35:37' 
        user_id:
          example: 1
        usuario:
          example: 'Pablito Admin'
        zona:
          example: 'Zona 3'
        zone_id:
          example: 3     


  securitySchemes:
    apis_auth:
      type: oauth2
      flows:
        implicit:
          authorizationUrl: http://cristianquirozusat.pythonanywhere.com/auth
          scopes:
            write:pets: modify pets in your account
            read:pets: read your pets
    api_key:
      type: apiKey
      name: api_key
      in: header
definitions:
  User:
    type: object
    properties:
      name:
        example: 'Árbol 09'
      birth_date:
        example: '2022-06-01 00:00:00'
      planting_date:
        example: '2022-07-04 00:00:00'
      description:
        example: 'Arbol importado'
      latitude:
        example: -6.803033899479622
      longitude:
        example: -79.84077392268448
      specie_id:
        example: 9 
      zone_id:
        example: 3 
      user_id:
        example: 1
      
  Arboln:
    type: object
    properties:
      name:
        example: 'Árbol 09'